(this.webpackJsonpcovid_tracker_app=this.webpackJsonpcovid_tracker_app||[]).push([[0],{173:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(59),r=n.n(c),o=n(3),i=n(1);var s=function(){return Object(i.jsx)("header",{children:Object(i.jsx)("h1",{children:"Covid19 Tracker "})})};var d=function(){var e=(new Date).getFullYear();return Object(i.jsxs)("footer",{children:[Object(i.jsxs)("p",{children:["Copyright Varun Sachdeva ",e]}),Object(i.jsx)("a",{href:"https://covid19.mathdro.id/api",children:"Data API"})]})},u=n(2);var j=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){fetch("https://covid19.mathdro.id/api/countries").then((function(e){return e.json()})).then((function(e){r(e.countries.map((function(e){return e.name}))),r((function(e){return["Global"].concat(Object(u.a)(e))}))}))}),[]),Object(i.jsx)("div",{className:"searchBar",children:Object(i.jsx)("select",{onChange:function(t){return e.select(t.target.value)},children:c.map((function(e,t){return Object(i.jsx)("option",{value:e,id:t,children:e},t)}))})})};var l=function(e){var t="";return t=e.country?e.country.substr(10):"Global",Object(i.jsx)("div",{className:"banner",children:Object(i.jsx)("h1",{children:t.toUpperCase()})})};var b=function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"cardList",children:[Object(i.jsx)("h3",{children:e.container.name}),Object(i.jsx)("h4",{children:e.container.amount}),Object(i.jsx)("p",{children:"Last Updated"}),Object(i.jsx)("p",{children:e.date})]})})};var h=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),d=Object(o.a)(s,2),u=d[0],j=d[1];return Object(a.useEffect)((function(){fetch("https://covid19.mathdro.id/api/"+e.location).then((function(e){return e.json()})).then((function(e){var t=e.confirmed.value,n=e.recovered.value,a=e.deaths.value,c=e.lastUpdate;r([{name:"INFECTED",amount:t},{name:"RECOVERED",amount:n},{name:"DEATHS",amount:a}]);var o=new Date(c);j(o.toDateString())}))}),[e.location]),Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"cardArray",children:c.map((function(e,t){return Object(i.jsx)(b,{id:t,container:e,date:u},t)}))})})},f=n(38);var v=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),d=Object(o.a)(s,2),u=d[0],j=d[1];Object(a.useEffect)((function(){fetch("https://covid19.mathdro.id/api/daily").then((function(e){return e.json()})).then((function(e){r(e.map((function(e){return{Confirmed:e.confirmed,Recovered:e.recovered,Deaths:e.deaths,updateDate:e.reportDate}})))})),fetch("https://covid19.mathdro.id/api/"+e.country).then((function(e){return e.json()})).then((function(e){var t=e.confirmed.value,n=e.recovered.value,a=e.deaths.value,c=e.lastUpdate;j([t,n,a,c])}))}),[e.country]);var l=Object(o.a)(u,3),b=l[0],h=l[1],v=l[2],O=c[0]?Object(i.jsx)(f.b,{data:{labels:c.map((function(e){var t=e.updateDate;return new Date(t).toLocaleDateString()})),datasets:[{data:c.map((function(e){return e.Confirmed.total})),label:"Infected",borderColor:"#3333ff",fill:!0},{data:c.map((function(e){return e.Deaths.total})),label:"Deaths",borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.5)",fill:!0}]}}):null,p=b?Object(i.jsx)(f.a,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 0, 0, 0.5)"],data:[b,h,v]}]},options:{legend:{display:!1}}}):null;return Object(i.jsx)("div",{className:"graph",children:Object(i.jsx)("div",{className:"plot",children:e.country?p:O})})};n(173);var O=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)(s,{}),Object(i.jsx)(l,{country:n}),Object(i.jsx)(j,{select:function(e){c("Global"===e?"":"countries/"+e)}}),Object(i.jsx)(h,{location:n}),Object(i.jsx)(v,{country:n}),Object(i.jsx)(d,{})]})};r.a.render(Object(i.jsx)(O,{}),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.841602dd.chunk.js.map